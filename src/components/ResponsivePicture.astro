---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  src: ImageMetadata | null;
  alt: string;
  class?: string;
  widths?: number[];
  sizes?: string;
  formats?: string[];
}

const { src, alt, class: className, widths = [480, 720, 960, 1440, 2000], sizes = '(max-width: 480px) 480px, (max-width: 720px) 720px, (max-width: 960px) 960px, (max-width: 1440px) 1440px, (max-width: 2000px) 2000px', formats = ['avif', 'webp'] } = Astro.props;
---
{src ? (
  <Picture src={src} alt={alt} class={className} widths={widths} sizes={sizes} formats={formats} />
) : (
  <p>Image not found: {alt}</p>
)}